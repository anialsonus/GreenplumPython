resources:
# Pull Request
- name: greenplumpython_pr
  type: pull-request
  # We should rely on the webhook. See README if webhook doesn't work
  webhook_token: ((extension/extensions-webhook-token))
  check_every: 24h
  source:
    disable_forks: true
    repository: greenplum-db/GreenplumPython
    access_token: ((extension/github-access-token))
    base_branch: main
# Commit trigger
- name: greenplumpython_commit
  type: git
  # We should rely on the webhook. See README if webhook doesn't work
  webhook_token: ((extension/extensions-webhook-token))
  check_every: 1h
  source:
    branch: ((greenplumpython-branch))
    uri: https://github.com/greenplum-db/GreenplumPython
    username: ((extension/github-access-token))
    password: x-oauth-basic
# Commit dev trigger. Not using webhook
- name: greenplumpython_commit_dev
  type: git
  check_every: 1m
  source:
    branch: ((greenplumpython-branch))
    uri: https://github.com/greenplum-db/GreenplumPython
    username: ((extension/github-access-token))
    password: x-oauth-basic

# plpython3 for gpdb6
- name: bin_plpython3_gpdb6_rhel7
  type: gcs
  source:
    bucket: gp-extensions-ci
    json_key: ((extension/extensions-gcs-service-account-key-dev2))
    versioned_file: intermediates_release/plpython3/plpython3_rhel7_gpdb6.tar.gz
- name: bin_plpython3_gpdb6_rhel8
  type: gcs
  source:
    bucket: gp-extensions-ci
    json_key: ((extension/extensions-gcs-service-account-key-dev2))
    versioned_file: intermediates_release/plpython3/plpython3_rhel8_gpdb6.tar.gz
- name: bin_plpython3_gpdb6_ubuntu18
  type: gcs
  source:
    bucket: gp-extensions-ci
    json_key: ((extension/extensions-gcs-service-account-key-dev2))
    versioned_file: intermediates_release/plpython3/plpython3_ubuntu18.04_gpdb6.tar.gz
